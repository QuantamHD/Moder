/*
 * Handles the PhotoProfile as custom view. Mostly I put
 * this in here to get the photo to take up the whole width
 * of the screen while keeping the aspect ratio.
 * 
 * @author: Evan Conrad
 * @date: Friday, December 19th, 2014
 */

package views;

import android.annotation.SuppressLint;
import android.content.Context;
import android.graphics.drawable.Drawable;
import android.view.View;

@SuppressLint("NewApi")
public class PhotoProfile extends View{
	
	Drawable photo;

	@SuppressWarnings("deprecation")
	public PhotoProfile(Context context, Drawable photo) {
		super(context);
		this.photo = photo;
		
		/* Some methods are deprecated, so I used a little check
		 * to only use if it's in the correct version. Hence
		 * the warnings being suppressed. 
		 */
		int sdk = android.os.Build.VERSION.SDK_INT;
		if (sdk < android.os.Build.VERSION_CODES.JELLY_BEAN) {
			setBackgroundDrawable(this.photo); //Deprecated, should probs fix that.
		} else {
			setBackground(this.photo);
		}
	}
	
	/**
	 * Resizes the photo while keeping the aspect ratio
	 */
	@Override
	protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
		int width = MeasureSpec.getSize(widthMeasureSpec);
		int height = width * this.photo.getIntrinsicHeight() / photo.getIntrinsicWidth();
		setMeasuredDimension(width, height);
	}

}
