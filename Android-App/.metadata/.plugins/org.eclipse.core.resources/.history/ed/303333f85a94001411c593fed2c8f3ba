package com.moderco.network;

import java.io.File;
import java.net.HttpURLConnection;

import org.apache.http.HttpResponse;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.entity.ContentType;
import org.apache.http.entity.mime.MultipartEntityBuilder;
import org.apache.http.impl.client.DefaultHttpClient;

import android.os.AsyncTask;

public class SendPhotosTask extends AsyncTask<Void, Void, Integer>{
	
	//codes
	public static final int FILE_DOES_NOT_EXIST = 100;
	
	File photo;
	
	SendPhotosTask(File file) {
		photo = file;
	}
	
	@Override
	protected Integer doInBackground(Void... params) {
		int code = -1;
		
		HttpResponse response = null; // Hopefully this shouldn't happen.
		HttpClient httpClient = new DefaultHttpClient();
		HttpPost post = new HttpPost(URLS.REGISTRATION_URL_STRING); // TODO: add url
		MultipartEntityBuilder builder = MultipartEntityBuilder.create();
		
		
		
		if (!photo.isFile()) {
			code = FILE_DOES_NOT_EXIST;
		} else {
			builder.addBinaryBody("Filedata", photo, ContentType.MULTIPART_FORM_DATA, photo.getName());
			post.setEntity(builder.build());
		}

		
		return null;
	}

	
}
