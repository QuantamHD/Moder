/*
 * Handles the PhotoProfile as custom view. Mostly I put
 * this in here to get the photo to take up the whole width
 * of the screen while keeping the aspect ratio.
 * 
 * @author: Evan Conrad
 * @date: Friday, December 19th, 2014
 */

package com.moderco.views;

import android.annotation.SuppressLint;
import android.content.Context;
import android.graphics.drawable.Drawable;
import android.util.AttributeSet;
import android.widget.ImageView;

@SuppressLint("NewApi")
public class PhotoProfile extends ImageView{
	
	Drawable photo;

	public PhotoProfile(Context context, Drawable photo) {
		super(context);
		
		/* Some methods are deprecated, so I used a little check
		 * to only use if it's in the correct version. Hence
		 * the warnings being suppressed. 
		 */
		int sdk = android.os.Build.VERSION.SDK_INT;
		if (sdk < android.os.Build.VERSION_CODES.JELLY_BEAN) {
			setBackgroundDrawable(this.photo); //This is deprecated as of v16
		} else {
			setBackground(this.photo); //This is new
		}
	}
	
	public PhotoProfile(Context context, AttributeSet attrs) {
		super(context, attrs);
		
		/* Some methods are deprecated, so I used a little check
		 * to only use if it's in the correct version. Hence
		 * the warnings being suppressed. 
		 *
		 */
		int sdk = android.os.Build.VERSION.SDK_INT;
		if (sdk < android.os.Build.VERSION_CODES.JELLY_BEAN) {
			setBackgroundDrawable(this.photo); //This is deprecated as of v16
		} else {
			setBackground(this.photo); //This is new
		}
	}
	
	/**
	 * Resizes the photo while keeping the aspect ratio
	 *
	@Override
	protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
		int width = MeasureSpec.getSize(widthMeasureSpec);
		int height = width * this.photo.getIntrinsicHeight() / photo.getIntrinsicWidth();
		setMeasuredDimension(width, height);
	}
	*/

}
